.TH ELF_GETPHDRNUM 3 "May 2024" "elfutils 0.186" "Library Functions Manual"
.SH NAME
elf_getphdrnum \- retrieve the number of program headers in an ELF descriptor

.SH SYNOPSIS
.nf
#include <libelf.h>

int elf_getphdrnum(Elf *elf, size_t *phnum);
.fi

.SH DESCRIPTION
.B elf_getphdrnum
retrieves the number of program headers associated with the ELF descriptor 
.I elf.
The function stores the number of program headers in the variable pointed to by 
.I phnum.

.SH PARAMETERS
.TP
.I elf
Pointer to the ELF descriptor from which to retrieve the number of program headers.
.TP
.I phnum
Pointer to a 
.B size_t
variable where the number of program headers will be stored.

.SH RETURN VALUE
On success,
.B elf_getphdrnum
returns 0. On failure, it returns -1 and sets an error code retrievable by
.BR elf_errno (3).

.SH EXAMPLES
.nf
Elf *elf = elf_begin(fd, ELF_C_READ, NULL);
if (elf == NULL) {
    printf("Error: %s\n", elf_errmsg(-1));
} else {
    size_t phnum;
    if (elf_getphdrnum(elf, &phnum) != 0) {
        printf("Error retrieving program header number: %s\n", elf_errmsg(-1));
    } else {
        printf("Number of program headers: %zu\n", phnum);
    }
    elf_end(elf);
}
.fi

.SH SEE ALSO
.BR elf_begin (3),
.BR elf_end (3),
.BR elf_errmsg (3),
.BR elf (5)

.SH AUTHOR
Written by the elfutils development team.

.SH REPORTING BUGS
Report bugs to <elfutils-devel@sourceware.org>.

.SH COPYRIGHT
This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

.SH HISTORY
.B elf_getphdrnum
first appeared in elfutils 0.186.

